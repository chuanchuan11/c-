>> 观察者模式

#### 应用场景

```
    背景:
        观察者模式定义了对象间一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并被自动更新。这种交互也称为发布-订阅(publish-subscribe)
    
    应用场景: 
        定义对象间的一种一对多的依赖关系,当一个对象的状态发生改变时, 所有依赖于它的对象都得到通知并被自动更新
```

#### 优缺点

```
优点：
    a) 松散耦合：观察者模式提供了一种松散耦合的设计，使得当一个对象的状态发生变化时，它不需要知道其他对象是如何使用这些信息的。这使得系统更容易扩展和维护。
    
    b) 动态关联：观察者模式允许在运行时动态地添加或删除观察者，而无需修改主题或其他观察者的代码。
缺点：
    a) 可能导致意外的更新：如果一个观察者在接收到通知后执行了一些操作，这些操作又导致了主题状态的变化，那么就可能会导致意外的更新。
    
    b) 可能导致性能问题：如果有大量的观察者需要更新，那么通知所有观察者可能会导致性能问题。
```

#### 模式设计

```
a) Subject: 被观察者
    被观察的对象, 当需要被观察的状态发生变化时, 需要通知队列中所有观察者对象. 需要维持一个观察者对象的队列列表
    
b) ConcreteSubject: 被观察者的具体实现
    包含一些基本的属性状态及其他操作

c) Observer: 观察者
    接口或抽象类,当subject的状态发生变化时, observer将通过一个回调函数得到通知

d) ConcreteObserver: 观察者的具体实现
    得到通知后将完成一系列具体的业务逻辑处理
```

![image](https://github.com/chuanchuan11/cplus/assets/42632290/ae0f8135-b823-46f2-85c0-a8db29328a92)

#### 示例

```
示例：附件
```
